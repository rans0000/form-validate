!function(a,b,c,d){"use strict";var e={init:function(b,c){var d=this;d.formElement=b,d.$formElement=a(b),d.options=a.extend({},a.fn.formValidate.options,c),d.$inputs=d.$formElement.find("["+d.options.attributeUsed+"]"),d.formName=d.$formElement.attr("name"),d.formErrorList=[],d.appName="formValidate",d.appVersion="0.1.0",d.$formElement.data(d.appName,d),d.bindEvents()},bindEvents:function(){var b=this;b.$inputs.on(b.options.triggerUsed,function(){b.validateInput(a(this))}),b.$formElement.on("submit",function(a){a.preventDefault(),console.log("submit fired"),b.validateAllInputs()})},validateAllInputs:function(){var b,c=this;c.$inputs.each(function(b,d){c.validateInput(a(d))}),b=c.$inputs.filter(".invalid").eq(0),c.options.scroll&&c.scrollToElement(b),c.options.focusFirstField&&c.setFocusToInput(b)},validateInput:function(b){var c,d,e,f,g,h=this,i=b.attr(h.options.attributeUsed).toLowerCase().split(","),j=a.fn.formValidate.validationRules,k=[],l=b.val(),m=!0;for(g=j.length-1;g>=0;--g)for(c=j[g].pattern,f=i.length-1;f>=0;--f)j[g].name==i[f].trim()&&(e=j[g].hasOwnProperty("trim")&&j[g].trim?l.trim():l,d=""===e&&"required"!==j[g].name?!0:c.test(e),d?h.updateValidationClass(b,i[f],!0,m):(m=!1,h.updateValidationClass(b,i[f],!1,m),k.push(j[g].errorMessage),console.log()));h.updateErrorMessages(b,k)},updateValidationClass:function(a,b,c,d){c?a.addClass(b+"-valid").removeClass(b+"-invalid"):a.addClass(b+"-invalid").removeClass(b+"-valid"),a.toggleClass("valid",d).toggleClass("invalid",!d)},updateErrorMessages:function(b,c){var d,e,f=this,g=a();if(f.formName&&b.attr("name")){d=f.formName+"."+b.attr("name"),a('[data-formmsg="'+d+'"]').text(c.join(". ")),f.formErrorList[d]=c;for(var h in f.formErrorList)if(f.formErrorList.hasOwnProperty(h))for(e=f.formErrorList[h].length-1;e>=0;--e)g=g.add('<p class="err-item">'+h+" : "+f.formErrorList[h].join(", ")+"</p>");a('[data-formmsg="'+f.formName+'"]').empty().append(g)}},scrollToElement:function(b){b.length&&a("body").animate({scrollTop:b.offset().top-10},300)},setFocusToInput:function(a){a.focus()}};a.fn.formValidate=function(a){return this.each(function(){var b=Object.create(e);b.init(this,a)})},a.fn.formValidate.options={attributeUsed:"data-formvalidate",triggerUsed:"blur",scroll:!0,focusFirstField:!0,hideErrorOnChange:!1,skipHiddenFields:!0,asyncPattern:!0,asyncUrl:""},a.fn.formValidate.validationRules=[{name:"number",errorMessage:"Entry must be a Number.",pattern:/^[-+]?\d*\.?\d+$/,trim:!1},{name:"required",errorMessage:"Entry mustn't be empty.",pattern:/.+/,trim:!0}],a.fn.formValidate.addRules=function(b){a.fn.formValidate.validationRules.push(b)},a.formValidate=a.fn.formValidate,a(c).on("ready",function(){a("form").has("["+a.fn.formValidate.options.attributeUsed+"]").each(function(b,c){a(c).data("formValidate")||a(c).formValidate()})})}(jQuery,window,document);